{"version":3,"file":"panel-teambuilder.js","names":["PSTextarea","_preact$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","updateSize","textbox","base","querySelector","textboxTest","style","width","offsetWidth","value","setAttribute","props","initialValue","newHeight","Math","max","scrollHeight","height","_inheritsLoose","_proto","prototype","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","preact","h","name","onInput","onKeyUp","Component","TeambuilderRoom","_PSRoom","_this2","_len2","_key2","DEFAULT_FORMAT","Dex","modid","curFolder","curFolderKeep","searchTerms","exportMode","exportCode","clientCommands","parseClientCommands","newteam","target","isBox","includes","PS","teams","push","createTeam","unshift","update","deleteteam","team","byKey","undeleteteam","undelete","backup","setExportMode","updateSearch","split","map","q","trim","toLowerCase","matchesSearch","normalized","packedTeam","every","term","_proto2","sendDirect","msg","alert","partial","newExportMode","copyFrom","undefined","format","folder","iconCache","key","endsWith","slice","list","PSRoom","TeambuilderPanel","_PSRoomPanel","_this3","_len3","_key3","selectFolder","e","room","elem","getAttribute","className","parentElement","preventDefault","stopImmediatePropagation","prompt","parentElem","okButton","then","forceUpdate","addFormatFolder","ev","button","currentTarget","toID","dragEnterTeam","_ev$currentTarget","draggedTeam","getDraggedTeam","iOver","indexOf","dragging","iDragged","splice","dragEnterFolder","_ev$currentTarget2","_PS$dragging","type","dragLeaveFolder","_ev$currentTarget3","_PS$dragging2","dropFolder","_ev$currentTarget4","_PS$dragging3","addDraggedTeam","save","clearSearch","saveExport","_querySelector","PSTeambuilder","importTeamBackup","_i2","_proto3","_PS$dragging4","_ref","dataTransfer","console","log","types","files","file","extractDraggedTeam","_ev$dataTransfer","_file$text","text","result","sets","Teams","_unused","bracketIndex","startsWith","pack","_PS$dragging5","_this$extractDraggedT","index","pop","join","handleDrop","_PS$rooms$teambuilder","rooms","renderFolder","_PS$dragging6","cur","children","folderOpenIcon","active","onDragEnter","onDragLeave","onDrop","renderFolderList","folderTable","folders","_i4","_PS$teams$list2","PSUtils","sortBy","parseInt","charAt","renderedFormatFolders","onChange","renderedFolders","gen","_i6","newGen","onClick","visibleTeams","filterFolder","filter","filterFormat","filteredTeams","renderTeamPane","_PS$dragging7","_this4","isDragging","deletedTeams","undeleteIndex","teamTerm","BattleLog","formatName","_room$exportCode","disabled","packAll","Boolean","placeholder","_team$uploaded","TeamBox","uploaded","teamid","PSPanelWrapper","PSRoomPanel","id","routes","Model","icon","title","addRoomType"],"sources":["../src/panel-teambuilder.tsx"],"sourcesContent":["/**\n * Teambuilder panel\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n * @license AGPLv3\n */\n\nimport { PS, PSRoom, type RoomID, type Team } from \"./client-main\";\nimport { PSPanelWrapper, PSRoomPanel } from \"./panels\";\nimport { PSTeambuilder, TeamBox } from \"./panel-teamdropdown\";\nimport { Dex, PSUtils, toID, type ID } from \"./battle-dex\";\nimport { Teams } from \"./battle-teams\";\nimport { BattleLog } from \"./battle-log\";\nimport preact from \"../js/lib/preact\";\n\nclass PSTextarea extends preact.Component<{ initialValue?: string, name?: string }> {\n\tupdateSize = () => {\n\t\tconst textbox = this.base!.querySelector('textarea')!;\n\t\tconst textboxTest = this.base!.querySelector<HTMLTextAreaElement>('textarea.heighttester')!;\n\t\ttextboxTest.style.width = `${textbox.offsetWidth}px`;\n\t\ttextboxTest.value = textbox.value;\n\t\ttextbox.setAttribute('data-changed', textbox.value === this.props.initialValue ? '' : '1');\n\t\tconst newHeight = Math.max(textboxTest.scrollHeight + 40, 50);\n\t\ttextbox.style.height = `${newHeight}px`;\n\t};\n\toverride componentDidMount(): void {\n\t\tconst textbox = this.base!.querySelector('textarea')!;\n\t\tif (this.props.initialValue) {\n\t\t\ttextbox.value = this.props.initialValue;\n\t\t}\n\t\tthis.updateSize();\n\t\twindow.addEventListener('resize', this.updateSize);\n\t}\n\toverride componentWillUnmount(): void {\n\t\twindow.removeEventListener('resize', this.updateSize);\n\t}\n\toverride render() {\n\t\treturn <div style=\"position:relative\">\n\t\t\t<textarea\n\t\t\t\tname={this.props.name} class=\"textbox\" onInput={this.updateSize} onKeyUp={this.updateSize}\n\t\t\t\tstyle=\"box-sizing:border-box;width:100%;resize:none\"\n\t\t\t/>\n\t\t\t<div><textarea\n\t\t\t\tclass=\"textbox heighttester\"\n\t\t\t\tstyle=\"box-sizing:border-box;resize:none;height:50px;visibility:hidden;position:absolute;left:-200px\"\n\t\t\t/></div>\n\t\t</div>;\n\t}\n}\n\nclass TeambuilderRoom extends PSRoom {\n\treadonly DEFAULT_FORMAT = Dex.modid;\n\n\t/**\n\t * - `\"\"` - all\n\t * - `\"gen[NUMBER][ID]\"` - format folder\n\t * - `\"gen[NUMBER]\"` - uncategorized gen folder\n\t * - `\"[ID]/\"` - folder\n\t * - `\"/\"` - not in folder\n\t */\n\tcurFolder = '';\n\tcurFolderKeep = '';\n\tsearchTerms: string[] = [];\n\texportMode: boolean | 'partial' = false;\n\texportCode: string | null = null;\n\n\toverride clientCommands = this.parseClientCommands({\n\t\t'newteam'(target) {\n\t\t\tconst isBox = ` ${target} `.includes(' box ');\n\t\t\tif (` ${target} `.includes(' bottom ')) {\n\t\t\t\tPS.teams.push(this.createTeam(null, isBox));\n\t\t\t} else {\n\t\t\t\tPS.teams.unshift(this.createTeam(null, isBox));\n\t\t\t}\n\t\t\tthis.update(null);\n\t\t},\n\t\t'deleteteam'(target) {\n\t\t\tconst team = PS.teams.byKey[target];\n\t\t\tif (team) PS.teams.delete(team);\n\t\t\tthis.update(null);\n\t\t},\n\t\t'undeleteteam'() {\n\t\t\tPS.teams.undelete();\n\t\t\tthis.update(null);\n\t\t},\n\t\t'backup'() {\n\t\t\tthis.setExportMode(!this.exportMode);\n\t\t\tthis.update(null);\n\t\t},\n\t});\n\toverride sendDirect(msg: string): void {\n\t\tPS.alert(`Unrecognized command: ${msg}`);\n\t}\n\n\tsetExportMode(exportMode: boolean) {\n\t\tconst partial = this.searchTerms.length || this.curFolder ? 'partial' : true;\n\t\tconst newExportMode = exportMode ? partial : false;\n\n\t\tif (newExportMode === this.exportMode) return;\n\t\tthis.exportMode = newExportMode;\n\t\tthis.exportCode = null;\n\t}\n\tcreateTeam(copyFrom?: Team | null, isBox = false): Team {\n\t\tif (copyFrom) {\n\t\t\treturn {\n\t\t\t\tname: `Copy of ${copyFrom.name}`,\n\t\t\t\tformat: copyFrom.format,\n\t\t\t\tfolder: copyFrom.folder,\n\t\t\t\tpackedTeam: copyFrom.packedTeam,\n\t\t\t\ticonCache: null,\n\t\t\t\tisBox: copyFrom.isBox,\n\t\t\t\tkey: '',\n\t\t\t};\n\t\t} else {\n\t\t\tconst format = this.curFolder && !this.curFolder.endsWith('/') ? this.curFolder as ID : this.DEFAULT_FORMAT;\n\t\t\tconst folder = this.curFolder.endsWith('/') ? this.curFolder.slice(0, -1) : '';\n\t\t\treturn {\n\t\t\t\tname: `${isBox ? \"Box\" : \"Untitled\"} ${PS.teams.list.length + 1}`,\n\t\t\t\tformat,\n\t\t\t\tfolder,\n\t\t\t\tpackedTeam: '',\n\t\t\t\ticonCache: null,\n\t\t\t\tisBox,\n\t\t\t\tkey: '',\n\t\t\t};\n\t\t}\n\t}\n\tupdateSearch = (value: string) => {\n\t\tif (!value) {\n\t\t\tthis.searchTerms = [];\n\t\t} else {\n\t\t\tthis.searchTerms = value.split(\",\").map(q => q.trim().toLowerCase());\n\t\t}\n\t};\n\tmatchesSearch = (team: Team) => {\n\t\tif (this.searchTerms.length === 0) return true;\n\t\tconst normalized = team.packedTeam.toLowerCase();\n\t\treturn this.searchTerms.every(term => normalized.includes(term));\n\t};\n}\n\nclass TeambuilderPanel extends PSRoomPanel<TeambuilderRoom> {\n\tstatic readonly id = 'teambuilder';\n\tstatic readonly routes = ['teambuilder'];\n\tstatic readonly Model = TeambuilderRoom;\n\tstatic readonly icon = <i class=\"fa fa-pencil-square-o\" aria-hidden></i>;\n\tstatic readonly title = 'Teambuilder';\n\tselectFolder = (e: MouseEvent) => {\n\t\tconst room = this.props.room;\n\t\tlet elem = e.target as HTMLElement | null;\n\t\tlet folder: string | null = null;\n\t\twhile (elem) {\n\t\t\tif (elem.getAttribute('data-href')) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (elem.className === 'selectFolder') {\n\t\t\t\tfolder = elem.getAttribute('data-value') || '';\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (elem.className === 'folderlist') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\telem = elem.parentElement;\n\t\t}\n\t\tif (folder === null) return;\n\t\te.preventDefault();\n\t\te.stopImmediatePropagation();\n\t\tif (folder === '++') {\n\t\t\tPS.prompt(\"Folder name?\", '', { parentElem: elem!, okButton: \"Create\" }).then(name => {\n\t\t\t\tif (!name) return;\n\t\t\t\troom.curFolderKeep = `${name}/`;\n\t\t\t\troom.curFolder = `${name}/`;\n\t\t\t\tthis.forceUpdate();\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\troom.curFolder = folder;\n\t\tthis.forceUpdate();\n\t};\n\taddFormatFolder = (ev: Event) => {\n\t\tconst room = this.props.room;\n\t\tconst button = ev.currentTarget as HTMLButtonElement;\n\t\tconst folder = toID(button.value);\n\t\troom.curFolderKeep = folder;\n\t\troom.curFolder = folder;\n\t\tbutton.value = '';\n\t\tthis.forceUpdate();\n\t};\n\t/** undefined: not dragging, null: dragging a new team */\n\tgetDraggedTeam(ev: DragEvent): Team | number | null {\n\t\tif (PS.dragging?.type === 'team') return PS.dragging.team;\n\n\t\tconst dataTransfer = ev.dataTransfer;\n\t\tif (!dataTransfer) return null;\n\n\t\tPS.dragging = { type: '?' };\n\t\tconsole.log(`dragging: ${dataTransfer.types as any} | ${[...dataTransfer.files]?.map(file => file.name) as any}`);\n\t\tif (!dataTransfer.types.includes?.('Files')) return null;\n\t\t// MDN says files will be empty except on a Drop event, but the spec says no such thing\n\t\t// in practice, Chrome gives this info but Firefox doesn't\n\t\tif (dataTransfer.files[0] && !dataTransfer.files[0].name.endsWith('.txt')) return null;\n\n\t\t// We're dragging a file! It might be a team!\n\t\tPS.dragging = {\n\t\t\ttype: 'team',\n\t\t\tteam: 0,\n\t\t\tfolder: null,\n\t\t};\n\t\treturn PS.dragging.team;\n\t}\n\tdragEnterTeam = (ev: DragEvent) => {\n\t\tconst draggedTeam = this.getDraggedTeam(ev);\n\t\tif (draggedTeam === null) return;\n\n\t\tconst value = (ev.currentTarget as HTMLElement)?.getAttribute('data-teamkey');\n\t\tconst team = value ? PS.teams.byKey[value] : null;\n\t\tif (!team || team === draggedTeam) return;\n\n\t\tconst iOver = PS.teams.list.indexOf(team);\n\t\tif (typeof draggedTeam === 'number') {\n\t\t\tif (iOver >= draggedTeam) (PS.dragging as any).team = iOver + 1;\n\t\t\t(PS.dragging as any).team = iOver;\n\t\t\tthis.forceUpdate();\n\t\t\treturn;\n\t\t}\n\n\t\tconst iDragged = PS.teams.list.indexOf(draggedTeam);\n\t\tif (iDragged < 0 || iOver < 0) return; // shouldn't happen\n\n\t\tPS.teams.list.splice(iDragged, 1);\n\t\t// by coincidence, splicing into iOver works in both directions\n\t\t// before: Dragged goes before Over, splice at i\n\t\t// after: Dragged goes after Over, splice at i - 1 + 1\n\t\tPS.teams.list.splice(iOver, 0, draggedTeam);\n\t\tthis.forceUpdate();\n\t};\n\tdragEnterFolder = (ev: DragEvent) => {\n\t\tconst value = (ev.currentTarget as HTMLElement)?.getAttribute('data-value') || null;\n\t\tif (value === null || PS.dragging?.type !== 'team') return;\n\t\tif (value === '++' || value === '') return;\n\n\t\tPS.dragging.folder = value;\n\t\tthis.forceUpdate();\n\t};\n\tdragLeaveFolder = (ev: DragEvent) => {\n\t\tconst value = (ev.currentTarget as HTMLElement)?.getAttribute('data-value') || null;\n\t\tif (value === null || PS.dragging?.type !== 'team') return;\n\t\tif (value === '++' || value === '') return;\n\n\t\tif (PS.dragging.folder === value) PS.dragging.folder = null;\n\t\tthis.forceUpdate();\n\t};\n\tstatic extractDraggedTeam(ev: DragEvent): Promise<Team | null> | null {\n\t\tconst file = ev.dataTransfer?.files?.[0];\n\t\tif (!file) return null;\n\n\t\tlet name = file.name;\n\t\tif (name.slice(-4).toLowerCase() !== '.txt') {\n\t\t\t// PS.alert(`Your file \"${file.name}\" is not a valid team. Team files are \".txt\" files.`);\n\t\t\treturn null;\n\t\t}\n\t\tname = name.slice(0, -4);\n\n\t\treturn file.text?.()?.then(result => {\n\t\t\tlet sets;\n\t\t\ttry {\n\t\t\t\tsets = Teams.import(result);\n\t\t\t} catch {\n\t\t\t\tPS.alert(`Your file \"${file.name}\" is not a valid team.`);\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tlet format = '';\n\t\t\tconst bracketIndex = name.indexOf(']');\n\t\t\tlet isBox = false;\n\t\t\tif (bracketIndex >= 0) {\n\t\t\t\tformat = name.slice(1, bracketIndex);\n\t\t\t\tif (!format.startsWith('gen')) format = 'gen6' + format;\n\t\t\t\tif (format.endsWith('-box')) {\n\t\t\t\t\tformat = format.slice(0, -4);\n\t\t\t\t\tisBox = true;\n\t\t\t\t}\n\t\t\t\tname = name.slice(bracketIndex + 1).trim();\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tname,\n\t\t\t\tformat: format as ID,\n\t\t\t\tfolder: '',\n\t\t\t\tpackedTeam: Teams.pack(sets),\n\t\t\t\ticonCache: null,\n\t\t\t\tkey: '',\n\t\t\t\tisBox,\n\t\t\t} satisfies Team;\n\t\t});\n\t}\n\tstatic addDraggedTeam(ev: DragEvent, folder?: string) {\n\t\tlet index: number = (PS.dragging as any)?.team;\n\t\tif (typeof index !== 'number') index = 0;\n\t\treturn this.extractDraggedTeam(ev)?.then(team => {\n\t\t\tif (!team) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (folder?.endsWith('/')) {\n\t\t\t\tteam.folder = folder.slice(0, -1);\n\t\t\t} else if (folder) {\n\t\t\t\tteam.format = folder as ID;\n\t\t\t}\n\t\t\tPS.teams.push(team);\n\t\t\tPS.teams.list.pop();\n\t\t\tPS.teams.list.splice(index, 0, team);\n\t\t\tPS.teams.save();\n\t\t\tPS.join('teambuilder' as RoomID);\n\t\t\tPS.update();\n\t\t});\n\t}\n\tdropFolder = (ev: DragEvent) => {\n\t\tconst value = (ev.currentTarget as HTMLElement)?.getAttribute('data-value') || null;\n\t\tif (value === null || PS.dragging?.type !== 'team') return;\n\t\tif (value === '++' || value === '') return;\n\n\t\tPS.dragging.folder = null;\n\t\tlet team = PS.dragging.team;\n\n\t\tif (typeof team === 'number') {\n\t\t\tTeambuilderPanel.addDraggedTeam(ev, value);\n\t\t\treturn;\n\t\t}\n\n\t\tif (value.endsWith('/')) {\n\t\t\tteam.folder = value.slice(0, -1);\n\t\t} else {\n\t\t\tteam.format = value as ID;\n\t\t}\n\t\tPS.teams.save();\n\t\tev.stopImmediatePropagation();\n\t\tthis.forceUpdate();\n\t};\n\tstatic handleDrop(ev: DragEvent) {\n\t\treturn !!this.addDraggedTeam(ev, (PS.rooms['teambuilder'] as TeambuilderRoom)?.curFolder);\n\t}\n\tupdateSearch = (ev: KeyboardEvent) => {\n\t\tconst target = ev.currentTarget as HTMLInputElement;\n\t\tthis.props.room.updateSearch(target.value);\n\t\tthis.forceUpdate();\n\t};\n\tclearSearch = () => {\n\t\tconst target = this.base!.querySelector<HTMLInputElement>('input[type=\"search\"]');\n\t\tif (!target) return;\n\t\ttarget.value = '';\n\t\tthis.props.room.updateSearch('');\n\t};\n\trenderFolder(value: string) {\n\t\tconst { room } = this.props;\n\t\tconst cur = room.curFolder === value;\n\t\tlet children;\n\t\tconst folderOpenIcon = cur ? 'fa-folder-open' : 'fa-folder';\n\t\tif (value.endsWith('/')) {\n\t\t\t// folder\n\t\t\tchildren = [\n\t\t\t\t<i class={`fa ${folderOpenIcon}${value === '/' ? '-o' : ''}`}></i>,\n\t\t\t\tvalue.slice(0, -1) || '(uncategorized)',\n\t\t\t];\n\t\t} else if (value === '') {\n\t\t\tchildren = [\n\t\t\t\t<em>(all)</em>,\n\t\t\t];\n\t\t} else if (value === '++') {\n\t\t\tchildren = [\n\t\t\t\t<i class=\"fa fa-plus\" aria-hidden></i>,\n\t\t\t\t<em>(add folder)</em>,\n\t\t\t];\n\t\t} else {\n\t\t\tchildren = [\n\t\t\t\t<i class={`fa ${folderOpenIcon}-o`}></i>,\n\t\t\t\tvalue.slice(4) || '(uncategorized)',\n\t\t\t];\n\t\t}\n\n\t\t// folders were <div>s rather than <button>s because in theory it has\n\t\t// less weird interactions with HTML5 drag-and-drop (looking at Firefox)\n\t\t// modern browsers don't seem to have these bugs, so we're going to make\n\t\t// them buttons for now\n\t\tconst active = (PS.dragging as any)?.folder === value ? ' active' : '';\n\t\tif (cur) {\n\t\t\treturn <div\n\t\t\t\tclass=\"folder cur\" data-value={value}\n\t\t\t\tonDragEnter={this.dragEnterFolder} onDragLeave={this.dragLeaveFolder} onDrop={this.dropFolder}\n\t\t\t>\n\t\t\t\t<div class=\"folderhack3\">\n\t\t\t\t\t<div class=\"folderhack1\"></div><div class=\"folderhack2\"></div>\n\t\t\t\t\t<button class={`selectFolder${active}`} data-value={value}>{children}</button>\n\t\t\t\t</div>\n\t\t\t</div>;\n\t\t}\n\t\treturn <div\n\t\t\tclass=\"folder\" data-value={value}\n\t\t\tonDragEnter={this.dragEnterFolder} onDragLeave={this.dragLeaveFolder} onDrop={this.dropFolder}\n\t\t>\n\t\t\t<button class={`selectFolder${active}`} data-value={value}>{children}</button>\n\t\t</div>;\n\t}\n\tsaveExport = (e: MouseEvent) => {\n\t\tconst value = this.base!.querySelector<HTMLTextAreaElement>('textarea[name=\"import\"]')?.value;\n\t\tif (!value) return alert('Textarea not found');\n\t\tif (this.props.room.exportMode !== true) return alert('Wrong export mode');\n\n\t\tconst teams = PSTeambuilder.importTeamBackup(value);\n\t\t// const visibleTeams = this.visibleTeams();\n\t\t// alert(`${teams.length} teams imported, ${visibleTeams.length} teams visible now`);\n\t\tPS.teams.list = [];\n\t\tPS.teams.byKey = {};\n\t\tfor (const team of teams) PS.teams.push(team);\n\t\t// TODO: say what changed\n\n\t\tconst room = this.props.room;\n\t\troom.exportMode = false;\n\t\tPS.teams.update('team');\n\t\troom.update(null);\n\t};\n\trenderFolderList() {\n\t\tconst room = this.props.room;\n\t\t// The folder list isn't actually saved anywhere:\n\t\t// it's regenerated anew from the team list every time.\n\n\t\t// (This is why folders you create will automatically disappear\n\t\t// if you leave them without adding anything to them.)\n\n\t\tconst folderTable: { [folder: string]: 1 | undefined } = { '': 1 };\n\t\tconst folders: string[] = [];\n\t\tfor (const team of PS.teams.list) {\n\t\t\tconst folder = team.folder;\n\t\t\tif (folder && !(`${folder}/` in folderTable)) {\n\t\t\t\tfolders.push(`${folder}/`);\n\t\t\t\tfolderTable[`${folder}/`] = 1;\n\t\t\t\tif (!('/' in folderTable)) {\n\t\t\t\t\tfolders.push('/');\n\t\t\t\t\tfolderTable['/'] = 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst format = team.format || room.DEFAULT_FORMAT;\n\t\t\tif (!(format in folderTable)) {\n\t\t\t\tfolders.push(format);\n\t\t\t\tfolderTable[format] = 1;\n\t\t\t}\n\t\t}\n\t\tif (room.curFolderKeep.endsWith('/') || room.curFolder.endsWith('/')) {\n\t\t\tif (!('/' in folderTable)) {\n\t\t\t\tfolders.push('/');\n\t\t\t\tfolderTable['/'] = 1;\n\t\t\t}\n\t\t}\n\t\tif (!(room.curFolderKeep in folderTable)) {\n\t\t\tfolderTable[room.curFolderKeep] = 1;\n\t\t\tfolders.push(room.curFolderKeep);\n\t\t}\n\t\tif (!(room.curFolder in folderTable)) {\n\t\t\tfolderTable[room.curFolder] = 1;\n\t\t\tfolders.push(room.curFolder);\n\t\t}\n\n\t\tPSUtils.sortBy(folders, folder => [\n\t\t\tfolder.endsWith('/') ? 10 : -parseInt(folder.charAt(3), 10),\n\t\t\tfolder,\n\t\t]);\n\n\t\tlet renderedFormatFolders = [\n\t\t\t<div class=\"foldersep\"></div>,\n\t\t\t<div class=\"folder\"><button\n\t\t\t\tname=\"format\" value=\"\" data-selecttype=\"teambuilder\"\n\t\t\t\tclass=\"selectFolder\" data-href=\"/formatdropdown\" onChange={this.addFormatFolder}\n\t\t\t>\n\t\t\t\t<i class=\"fa fa-plus\" aria-hidden></i><em>(add format folder)</em>\n\t\t\t</button></div>,\n\t\t];\n\n\t\tlet renderedFolders: preact.ComponentChild[] = [];\n\n\t\t/** 0 = folder, 1-9 = format generation */\n\t\tlet gen = -1;\n\t\tfor (let format of folders) {\n\t\t\tconst newGen = format.endsWith('/') ? 0 : parseInt(format.charAt(3), 10);\n\t\t\tif (gen !== newGen) {\n\t\t\t\tgen = newGen;\n\t\t\t\tif (gen === 0) {\n\t\t\t\t\trenderedFolders.push(...renderedFormatFolders);\n\t\t\t\t\trenderedFormatFolders = [];\n\t\t\t\t\trenderedFolders.push(<div class=\"foldersep\"></div>);\n\t\t\t\t\trenderedFolders.push(<div class=\"folder\"><h3>Folders</h3></div>);\n\t\t\t\t} else {\n\t\t\t\t\trenderedFolders.push(<div class=\"folder\"><h3>Gen {gen}</h3></div>);\n\t\t\t\t}\n\t\t\t}\n\t\t\trenderedFolders.push(this.renderFolder(format));\n\t\t}\n\t\trenderedFolders.push(...renderedFormatFolders);\n\n\t\treturn <div class=\"folderlist\" onClick={this.selectFolder}>\n\t\t\t<div class=\"folderlistbefore\"></div>\n\n\t\t\t{this.renderFolder('')}\n\t\t\t{renderedFolders}\n\t\t\t<div class=\"foldersep\"></div>\n\t\t\t{this.renderFolder('++')}\n\n\t\t\t<div class=\"folderlistafter\"></div>\n\t\t</div>;\n\t}\n\tvisibleTeams(teams?: Team[]): Team[];\n\tvisibleTeams(teams: (Team | null)[]): (Team | null)[];\n\tvisibleTeams(teams: (Team | null)[] = PS.teams.list): (Team | null)[] {\n\t\tconst { room } = this.props;\n\n\t\tif (room.curFolder) {\n\t\t\tif (room.curFolder.endsWith('/')) {\n\t\t\t\tconst filterFolder = room.curFolder.slice(0, -1);\n\t\t\t\tteams = teams.filter(team => !team || team.folder === filterFolder);\n\t\t\t} else {\n\t\t\t\tconst filterFormat = room.curFolder;\n\t\t\t\tteams = teams.filter(team => !team || team.format === filterFormat);\n\t\t\t}\n\t\t}\n\t\tif (!room.searchTerms.length) return teams;\n\n\t\tconst filteredTeams = teams.filter(team => !team || room.matchesSearch(team));\n\t\treturn filteredTeams;\n\t}\n\n\trenderTeamPane() {\n\t\tconst room = this.props.room;\n\n\t\tlet teams: (Team | null)[] = PS.teams.list.slice();\n\t\tlet isDragging = false;\n\t\tif (PS.dragging?.type === 'team' && typeof PS.dragging.team === 'number') {\n\t\t\tteams.splice(PS.dragging.team, 0, null);\n\t\t\tisDragging = true;\n\t\t} else if (PS.teams.deletedTeams.length) {\n\t\t\tconst undeleteIndex = PS.teams.deletedTeams[PS.teams.deletedTeams.length - 1][1];\n\t\t\tteams.splice(undeleteIndex, 0, null);\n\t\t}\n\n\t\tlet filterFolder: string | null = null;\n\t\tlet filterFormat: string | null = null;\n\t\tlet teamTerm = 'team';\n\t\tif (room.curFolder) {\n\t\t\tif (room.curFolder.endsWith('/')) {\n\t\t\t\tfilterFolder = room.curFolder.slice(0, -1);\n\t\t\t\tteamTerm = 'team in folder';\n\t\t\t} else {\n\t\t\t\tfilterFormat = room.curFolder;\n\t\t\t\tif (filterFormat !== Dex.modid) teamTerm = BattleLog.formatName(filterFormat) + ' team';\n\t\t\t}\n\t\t}\n\n\t\tconst filteredTeams = this.visibleTeams(teams);\n\n\t\tif (room.exportMode) {\n\t\t\treturn <div class=\"teampane\">\n\t\t\t\t<p>\n\t\t\t\t\t<button data-cmd=\"/backup\" class=\"button\">\n\t\t\t\t\t\t<i class=\"fa fa-caret-left\" aria-hidden></i> Back\n\t\t\t\t\t</button> {}\n\t\t\t\t\t{room.exportMode !== true && <button class=\"button\" disabled>\n\t\t\t\t\t\t<i class=\"fa fa-save\" aria-hidden></i> Save (not allowed for partial exports)\n\t\t\t\t\t</button>}\n\t\t\t\t\t{room.exportMode === true && <button onClick={this.saveExport} class=\"button\">\n\t\t\t\t\t\t<i class=\"fa fa-save\" aria-hidden></i> Save changes\n\t\t\t\t\t</button>}\n\t\t\t\t</p>\n\t\t\t\t<PSTextarea\n\t\t\t\t\tname=\"import\" initialValue={(room.exportCode ??= PS.teams.packAll(filteredTeams.filter(Boolean) as Team[]))}\n\t\t\t\t/>\n\t\t\t</div>;\n\t\t}\n\n\t\treturn <div class=\"teampane\">\n\t\t\t{filterFolder ? (\n\t\t\t\t<h2>\n\t\t\t\t\t<i class=\"fa fa-folder-open\" aria-hidden></i> {filterFolder} {}\n\t\t\t\t\t<button class=\"button small\" style=\"margin-left:5px\" name=\"renameFolder\">\n\t\t\t\t\t\t<i class=\"fa fa-pencil\" aria-hidden></i> Rename\n\t\t\t\t\t</button> {}\n\t\t\t\t\t<button class=\"button small\" style=\"margin-left:5px\" name=\"promptDeleteFolder\">\n\t\t\t\t\t\t<i class=\"fa fa-times\" aria-hidden></i> Remove\n\t\t\t\t\t</button>\n\t\t\t\t</h2>\n\t\t\t) : filterFolder === '' ? (\n\t\t\t\t<h2><i class=\"fa fa-folder-open-o\" aria-hidden></i> Teams not in any folders</h2>\n\t\t\t) : filterFormat ? (\n\t\t\t\t<h2><i class=\"fa fa-folder-open-o\" aria-hidden></i> {filterFormat} <small>({teams.length})</small></h2>\n\t\t\t) : (\n\t\t\t\t<h2>All Teams <small>({teams.length})</small></h2>\n\t\t\t)}\n\t\t\t<p>\n\t\t\t\t<button data-cmd=\"/newteam\" class=\"button big\">\n\t\t\t\t\t<i class=\"fa fa-plus-circle\" aria-hidden></i> New {teamTerm}\n\t\t\t\t</button> {}\n\t\t\t\t<button data-cmd=\"/newteam box\" class=\"button\">\n\t\t\t\t\t<i class=\"fa fa-archive\" aria-hidden></i> New box\n\t\t\t\t</button>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"search\" class=\"textbox\" placeholder=\"Search teams\"\n\t\t\t\t\tstyle=\"margin-left:5px;\" onKeyUp={this.updateSearch}\n\t\t\t\t></input>\n\t\t\t</p>\n\t\t\t<ul class=\"teamlist\">\n\t\t\t\t{!teams.length ? (\n\t\t\t\t\t<li><em>you have no teams lol</em></li>\n\t\t\t\t) : !filteredTeams.length ? (\n\t\t\t\t\t<li><em>you have no teams matching <code>{room.searchTerms.join(\", \")}</code></em></li>\n\t\t\t\t) : filteredTeams.map(team => team ? (\n\t\t\t\t\t<li key={team.key} onDragEnter={this.dragEnterTeam} data-teamkey={team.key}>\n\t\t\t\t\t\t<TeamBox team={team} onClick={this.clearSearch} /> {}\n\t\t\t\t\t\t{!team.uploaded && <button data-cmd={`/deleteteam ${team.key}`} class=\"option\">\n\t\t\t\t\t\t\t<i class=\"fa fa-trash\" aria-hidden></i> Delete\n\t\t\t\t\t\t</button>} {}\n\t\t\t\t\t\t{team.uploaded?.private ? (\n\t\t\t\t\t\t\t<i class=\"fa fa-cloud gray\"></i>\n\t\t\t\t\t\t) : team.uploaded ? (\n\t\t\t\t\t\t\t<i class=\"fa fa-globe gray\"></i>\n\t\t\t\t\t\t) : team.teamid ? (\n\t\t\t\t\t\t\t<i class=\"fa fa-plug gray\"></i>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tnull\n\t\t\t\t\t\t)}\n\t\t\t\t\t</li>\n\t\t\t\t) : isDragging ? (\n\t\t\t\t\t<li key=\"dragging\">\n\t\t\t\t\t\t<div class=\"team\"></div>\n\t\t\t\t\t</li>\n\t\t\t\t) : (\n\t\t\t\t\t<li key=\"undelete\">\n\t\t\t\t\t\t<button data-cmd=\"/undeleteteam\" class=\"option\">\n\t\t\t\t\t\t\t<i class=\"fa fa-undo\" aria-hidden></i> Undo delete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\t<button data-cmd=\"/newteam bottom\" class=\"button\">\n\t\t\t\t\t<i class=\"fa fa-plus-circle\" aria-hidden></i> New {teamTerm}\n\t\t\t\t</button> {}\n\t\t\t\t<button data-cmd=\"/newteam box bottom\" class=\"button\">\n\t\t\t\t\t<i class=\"fa fa-archive\" aria-hidden></i> New box\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<button data-cmd=\"/backup\" class=\"button\">\n\t\t\t\t\t<i class=\"fa fa-file-code-o\" aria-hidden></i> Backup\n\t\t\t\t\t{room.searchTerms.length ? ' search results' : room.curFolder ? ' folder' : ''}\n\t\t\t\t</button>\n\t\t\t</p>\n\t\t</div>;\n\t}\n\toverride render() {\n\t\tconst room = this.props.room;\n\n\t\treturn <PSPanelWrapper room={room}>\n\t\t\t<div class=\"folderpane\">\n\t\t\t\t{this.renderFolderList()}\n\t\t\t</div>\n\t\t\t{this.renderTeamPane()}\n\t\t</PSPanelWrapper>;\n\t}\n}\n\nPS.addRoomType(TeambuilderPanel);\n"],"mappings":"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","ignoreList":[]}